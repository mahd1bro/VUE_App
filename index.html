<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>Ticflow - Streamline Your Workflow</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <!-- Toast Notification -->
        <div v-if="toast.show" class="toast" :class="toast.type">
            {{ toast.message }}
        </div>

        <!-- Decorative Circles -->
        <!-- <div class="circle circle-1"></div> -->
        <div class="circle circle-2"></div>
        <div class="circle circle-3"></div>
        <div class="circle circle-4"></div>

        <!-- Landing Page (Dashboard) for non-logged in users -->
        <div v-if="!isLoggedIn && currentPage === 'landing'" class="landing-container">
            <div class="container">
                <header>
                    <div class="navbar-container">
                        <div class="app-title">
                            <div class="title-icon">T</div>
                            <h1>Ticflow</h1>
                        </div>
                        <div class="auth-field">
                            <div class="auth-buttons">
                                <div class="login">
                                    <button @click="switchToAuth('login')">Login</button>
                                </div>
                                <div class="signup">
                                    <button @click="switchToAuth('signup')">Get Started</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Hero Section -->
                <section class="hero-section">
                    <div class="hero-content">
                        <div class="hero-text">
                            <h2>Streamline Your Workflow with <span class="gradient-text">Ticflow</span></h2>
                            <p>Manage tickets, track progress, and collaborate seamlessly with our intuitive platform designed for modern teams.</p>
                            <div class="hero-buttons">
                                <button class="btn-primary" @click="switchToAuth('signup')">Start Free Trial</button>
                            </div>
                        </div>
                        <div class="hero-visual">
                            <div class="feature-box hero-box">
                                <div class="box-icon">ðŸš€</div>
                                <h3>Lightning Fast</h3>
                                <p>Experience blazing fast ticket management</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Features Section -->
                <section class="features-section">
                    <div class="section-header">
                        <h2>Why Choose Ticflow?</h2>
                        <p>Discover the features that make us different</p>
                    </div>
                    <div class="features-grid">
                        <div class="feature-box" v-for="feature in features" :key="feature.id">
                            <div class="box-icon">{{ feature.icon }}</div>
                            <h3>{{ feature.title }}</h3>
                            <p>{{ feature.description }}</p>
                        </div>
                    </div>
                </section>

                <!-- Stats Section -->
                <section class="stats-section">
                    <div class="section-header">
                        <h2>Trusted by Teams Worldwide</h2>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-box" v-for="stat in stats" :key="stat.id">
                            <div class="stat-number">{{ stat.number }}+</div>
                            <div class="stat-label">{{ stat.label }}</div>
                        </div>
                    </div>
                </section>

                <!-- Testimonials Section -->
                <section class="testimonials-section">
                    <div class="section-header">
                        <h2>What Our Users Say</h2>
                    </div>
                    <div class="testimonials-grid">
                        <div class="testimonial-box" v-for="testimonial in testimonials" :key="testimonial.id">
                            <div class="testimonial-content">
                                <p>"{{ testimonial.text }}"</p>
                                <div class="testimonial-author">
                                    <strong>{{ testimonial.author }}</strong>
                                    <span>{{ testimonial.position }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <footer class="main-footer">
                <div class="footer-container">
                    <div class="footer-content">
                        <div class="footer-section">
                            <div class="footer-logo">
                                <div class="title-icon">T</div>
                                <h3>Ticflow</h3>
                            </div>
                            <p>Streamlining workflows for modern teams worldwide.</p>
                        </div>
                        <div class="footer-section">
                            <h4>Product</h4>
                            <ul>
                                <li><a href="#">Features</a></li>
                                <li><a href="#">Pricing</a></li>
                                <li><a href="#">Integrations</a></li>
                                <li><a href="#">Updates</a></li>
                            </ul>
                        </div>
                        <div class="footer-section">
                            <h4>Company</h4>
                            <ul>
                                <li><a href="#">About</a></li>
                                <li><a href="#">Careers</a></li>
                                <li><a href="#">Blog</a></li>
                                <li><a href="#">Contact</a></li>
                            </ul>
                        </div>
                        <div class="footer-section">
                            <h4>Support</h4>
                            <ul>
                                <li><a href="#">Help Center</a></li>
                                <li><a href="#">Documentation</a></li>
                                <li><a href="#">API Status</a></li>
                                <li><a href="#">Community</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-bottom">
                        <p>&copy; 2025 Ticflow. All rights reserved.</p>
                    </div>
                </div>
            </footer>
        </div>

        <!-- Authentication Pages -->
        <div v-if="!isLoggedIn && currentPage === 'auth'" class="auth-container">
            <!-- Login Page -->
            <div v-if="currentAuthPage === 'login'" class="auth-page">
                <div class="auth-card">
                    <div class="auth-header">
                        <div class="auth-logo">
                            <div class="title-icon">T</div>
                            <h1>Ticflow</h1>
                        </div>
                        <p>Sign in to your account</p>
                    </div>
                    <form @submit.prevent="handleLogin" class="auth-form">
                        <div class="form-group">
                            <label>Email Address</label>
                            <input type="email" v-model="loginData.email" 
                                   :class="{ 'error': loginErrors.email }"
                                   placeholder="Enter your email">
                            <span v-if="loginErrors.email" class="error-message">{{ loginErrors.email }}</span>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" v-model="loginData.password" 
                                   :class="{ 'error': loginErrors.password }"
                                   placeholder="Enter your password">
                            <span v-if="loginErrors.password" class="error-message">{{ loginErrors.password }}</span>
                        </div>
                        <button type="submit" class="btn-primary auth-btn" :disabled="loading">
                            {{ loading ? 'Signing In...' : 'Sign In' }}
                        </button>
                    </form>
                    <div class="auth-footer">
                        <p>Don't have an account? 
                            <a href="#" @click="switchAuthPage('signup')">Sign up</a>
                        </p>
                        <p><a href="./index.html" @click="goToLanding()" class="back-link">Back to Home</a></p>
                    </div>
                </div>
            </div>

            <!-- Signup Page -->
            <div v-if="currentAuthPage === 'signup'" class="auth-page">
                <div class="auth-card">
                    <div class="auth-header">
                        <div class="auth-logo">
                            <div class="title-icon">T</div>
                            <h1>Ticflow</h1>
                        </div>
                        <h2>Create Account</h2>
                    </div>
                    <form @submit.prevent="handleSignup" class="auth-form">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" v-model="signupData.name" 
                                   :class="{ 'error': signupErrors.name }"
                                   placeholder="Enter your full name">
                            <span v-if="signupErrors.name" class="error-message">{{ signupErrors.name }}</span>
                        </div>
                        <div class="form-group">
                            <label>Email Address</label>
                            <input type="email" v-model="signupData.email" 
                                   :class="{ 'error': signupErrors.email }"
                                   placeholder="Enter your email">
                            <span v-if="signupErrors.email" class="error-message">{{ signupErrors.email }}</span>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" v-model="signupData.password" 
                                   :class="{ 'error': signupErrors.password }"
                                   placeholder="Create a password">
                            <span v-if="signupErrors.password" class="error-message">{{ signupErrors.password }}</span>
                        </div>
                        <div class="form-group">
                            <label>Confirm Password</label>
                            <input type="password" v-model="signupData.confirmPassword" 
                                   :class="{ 'error': signupErrors.confirmPassword }"
                                   placeholder="Confirm your password">
                            <span v-if="signupErrors.confirmPassword" class="error-message">{{ signupErrors.confirmPassword }}</span>
                        </div>
                        <button type="submit" class="btn-primary auth-btn" :disabled="loading">
                            {{ loading ? 'Creating Account...' : 'Create Account' }}
                        </button>
                    </form>
                    <div class="auth-footer">
                        <p>Already have an account? 
                            <a href="#" @click="switchAuthPage('login')">Sign in</a>
                        </p>
                        <p><a href="./index.html" @click="goToLanding()" class="back-link">Back to Home</a></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Application (Logged In) -->
        <div v-if="isLoggedIn" class="app-container">
            <header>
                <div class="navbar-container">
                    <div class="app-title">
                        <div class="title-icon">T</div>
                        <h1>Ticflow</h1>
                    </div>
                    <div class="switch-states">
                        <div class="first">
                            <button :class="{ active: currentAppPage === 'dashboard' }" 
                                    @click="currentAppPage = 'dashboard'">Dashboard</button>
                        </div>
                        <div class="second">
                            <button :class="{ active: currentAppPage === 'tickets' }" 
                                    @click="currentAppPage = 'tickets'">Tickets</button>
                        </div>
                    </div>
                    <div class="user-welcome">
                        <span class="welcome-text">Welcome, {{ userName }}!</span>
                        <button @click="logout" class="logout-btn">Logout</button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <!-- Dashboard Page -->
                <div v-if="currentAppPage === 'dashboard'" class="dashboard-page">
                    <div class="page-header">
                        <h2>Dashboard Overview</h2>
                        <p>Welcome back! Here's what's happening with your tickets.</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card total-tickets">
                            <div class="stat-icon"><FontAwesomeIcon :icon="byPrefixAndName.fas['chart-column']" /></div>
                            <div class="stat-info">
                                <h3>{{ ticketStats.total }}</h3>
                                <p>Total Tickets</p>
                            </div>
                        </div>
                        <div class="stat-card open-tickets">
                            <div class="stat-icon">ðŸŸ¡</div>
                            <div class="stat-info">
                                <h3>{{ ticketStats.open }}</h3>
                                <p>Open Tickets</p>
                            </div>
                        </div>
                        <div class="stat-card in-progress-tickets">
                            <div class="stat-icon">ðŸ”µ</div>
                            <div class="stat-info">
                                <h3>{{ ticketStats.inProgress }}</h3>
                                <p>In Progress</p>
                            </div>
                        </div>
                        <div class="stat-card resolved-tickets">
                            <div class="stat-icon">ðŸŸ¢</div>
                            <div class="stat-info">
                                <h3>{{ ticketStats.resolved }}</h3>
                                <p>Resolved Tickets</p>
                            </div>
                        </div>
                    </div>

                    <div class="recent-tickets">
                        <div class="section-header">
                            <h3>Recent Tickets</h3>
                            <button class="btn-primary" @click="currentAppPage = 'tickets'">View All Tickets</button>
                        </div>
                        <div class="tickets-list">
                            <div v-for="ticket in recentTickets" :key="ticket.id" class="ticket-item">
                                <div class="ticket-info">
                                    <h4>{{ ticket.title }}</h4>
                                    <p>{{ ticket.description }}</p>
                                    <div class="ticket-meta">
                                        <span class="ticket-status" :class="ticket.status">{{ ticket.status }}</span>
                                        <span class="ticket-priority" :class="ticket.priority">{{ ticket.priority }}</span>
                                        <span class="ticket-date">{{ formatDate(ticket.createdAt) }}</span>
                                    </div>
                                </div>
                            </div>
                            <div v-if="recentTickets.length === 0" class="empty-state">
                                <p>No tickets yet. <a href="#" @click="currentAppPage = 'tickets'">Create your first ticket</a></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tickets Management Page -->
                <div v-if="currentAppPage === 'tickets'" class="tickets-page">
                    <div class="page-header">
                        <h2>Ticket Management</h2>
                        <p>Create, view, update, and manage your support tickets.</p>
                    </div>

                    <div class="tickets-actions">
                        <button class="btn-primary" @click="testCreateButton">
                            + Create New Ticket
                        </button>
                        <div class="filters">
                            <select v-model="statusFilter" @change="filterTickets">
                                <option value="all">All Status</option>
                                <option value="open">Open</option>
                                <option value="in-progress">In Progress</option>
                                <option value="resolved">Resolved</option>
                            </select>
                            <select v-model="priorityFilter" @change="filterTickets">
                                <option value="all">All Priority</option>
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>

                    <div class="tickets-table">
                        <div class="table-header">
                            <div class="col-title">Title</div>
                            <div class="col-status">Status</div>
                            <div class="col-priority">Priority</div>
                            <div class="col-date">Created</div>
                            <div class="col-actions">Actions</div>
                        </div>
                        <div class="table-body">
                            <div v-for="ticket in filteredTickets" :key="ticket.id" class="table-row">
                                <div class="col-title">
                                    <strong>{{ ticket.title }}</strong>
                                    <p class="ticket-description">{{ ticket.description }}</p>
                                </div>
                                <div class="col-status">
                                    <span class="status-badge" :class="ticket.status">{{ ticket.status }}</span>
                                </div>
                                <div class="col-priority">
                                    <span class="priority-badge" :class="ticket.priority">{{ ticket.priority }}</span>
                                </div>
                                <div class="col-date">{{ formatDate(ticket.createdAt) }}</div>
                                <div class="col-actions">
                                    <button class="btn-edit" @click="editTicket(ticket)">Edit</button>
                                    <button class="btn-delete" @click="deleteTicket(ticket.id)">Delete</button>
                                </div>
                            </div>
                            <div v-if="filteredTickets.length === 0" class="empty-state">
                                <p>No tickets found. Create your first ticket to get started.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Create/Edit Ticket Modal -->
            <div v-if="showCreateModal || showEditModal" class="modal-overlay">
                <div class="modal">
                    <h3>{{ showEditModal ? 'Edit Ticket' : 'Create New Ticket' }}</h3>
                    <form @submit.prevent="showEditModal ? updateTicket() : createTicket()">
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" v-model="ticketForm.title" required 
                                   :class="{ 'error': ticketErrors.title }"
                                   placeholder="Enter ticket title">
                            <span v-if="ticketErrors.title" class="error-message">{{ ticketErrors.title }}</span>
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea v-model="ticketForm.description" required 
                                      :class="{ 'error': ticketErrors.description }"
                                      placeholder="Enter ticket description" rows="4"></textarea>
                            <span v-if="ticketErrors.description" class="error-message">{{ ticketErrors.description }}</span>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Status</label>
                                <select v-model="ticketForm.status" required>
                                    <option value="open">Open</option>
                                    <option value="in-progress">In Progress</option>
                                    <option value="resolved">Resolved</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Priority</label>
                                <select v-model="ticketForm.priority" required>
                                    <option value="low">Low</option>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                        <div class="modal-buttons">
                            <button type="submit" class="btn-primary">
                                {{ showEditModal ? 'Update Ticket' : 'Create Ticket' }}
                            </button>
                            <button type="button" @click="closeModal" class="btn-secondary">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>

            <footer class="main-footer">
                <div class="footer-container">
                    <div class="footer-content">
                        <div class="footer-section">
                            <div class="footer-logo">
                                <div class="title-icon">T</div>
                                <h3>Ticflow</h3>
                            </div>
                            <p>Streamlining workflows for modern teams worldwide.</p>
                        </div>
                        <div class="footer-section">
                            <h4>Product</h4>
                            <ul>
                                <li><a href="#">Features</a></li>
                                <li><a href="#">Pricing</a></li>
                                <li><a href="#">Integrations</a></li>
                            </ul>
                        </div>
                        <div class="footer-section">
                            <h4>Support</h4>
                            <ul>
                                <li><a href="#">Help Center</a></li>
                                <li><a href="#">Documentation</a></li>
                                <li><a href="#">Community</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-bottom">
                        <p>&copy; 2025 Ticflow. All rights reserved.</p>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="./app.js"></script>
</body>
</html>